(this["webpackJsonpmeetings-management"]=this["webpackJsonpmeetings-management"]||[]).push([[0],{162:function(e,t,n){"use strict";n.r(t);var r=n(9),a=n(0),i=n(14),s=n.n(i),o=n(61),c=n(50),l=n(213),d=n(217),u=n(58),b=n(59),m=n(64),f=n(63),j=n(215),h=n(214),g=(n(134),n(218)),v=n(13),O=n.n(v),p="add_meeting";var y=n(100),x=Object(y.a)([function(e){return e.meetings}],(function(e){var t=e.meetings,n=[];return t.forEach((function(e){n.push({start:e.from,end:e.to})})),n})),T={disableTimeRanges:function(e,t){var n=!1,r=e.format("MM-DD-YYYY");return e&&e<O()().startOf("day")&&(n=!0),t.forEach((function(e){var t=O()(e.start).format("MM-DD-YYYY"),a=O()(e.end).format("MM-DD-YYYY");O()(r).isAfter(t)&&O()(r).isBefore(a)&&(n=!0)})),n&&e},disableHours:function(e,t){var n=[];if(e){var r=e.format("MM-DD-YYYY HH:mm");if(O()(r).isSame(O()(),"day"))for(var a=0;a<O()().hour();a++)n.push(a);t.forEach((function(e){if(O()(r).isSame(e.start,"day")&&O()(r).isSame(e.end,"day"))for(var t=O()(e.start).hour();t<O()(e.end).hour();t+=1)n.push(t);else if(O()(r).isSame(e.start,"day"))for(var a=O()(e.start).hour();a<24;a+=1)n.push(a);else if(O()(r).isSame(e.end,"day"))for(var i=0;i<O()(e.end).hour();i+=1)n.push(i)}))}return n},disableMinutes:function(e,t){var n=[];if(e){var r=e.format("MM-DD-YYYY HH:mm");if(r&&O()(r).isSame(O()(),"hour"))for(var a=0;a<O()().minute();a++)n.push(a)}return n},getConflictedTimeRange:function(e,t){var n={};return t.forEach((function(t){O()(e[0]).isSameOrBefore(t.start)&&O()(e[1]).isSameOrAfter(t.start)&&(n=t)})),n}},S=h.a.RangePicker,D=T.getConflictedTimeRange,M=T.disableTimeRanges,w=T.disableHours,Y=T.disableMinutes,C=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).checkIfButtonDisabled=function(){var e=r.state,t=e.meetingTitle,n=e.inviteeFirstName,a=e.inviteeLastName,i=e.from,s=e.to;return!(t&&n&&a&&i&&s)},r.setTimeRangeToState=function(e){var t=r.props.disabledTimeRanges,n=D(e,t);e[0]!==e[1]?0===Object.entries(n).length?r.setState({from:e[0],to:e[1]}):window.alert("There is another meeting that starts at: "+n.start+" and ends at: "+n.end+". Please select another time range"):window.alert("Meeting can't start and end at the same time")},r.getDisableRange=function(e){var t=r.props.disabledTimeRanges;return M(e,t)},r.getDisabledHours=function(e,t){var n=r.props.disabledTimeRanges;return w(e,n)},r.getDisabledMinutes=function(e,t){var n=r.props.disabledTimeRanges;return Y(e,n)},r.state={meetingTitle:"",from:"",to:"",inviteeFirstName:"",inviteeLastName:""},r}return Object(b.a)(n,[{key:"addMeetingButtonClicked",value:function(){this.props.addMeeting(this.state),this.setState({meetingTitle:"",from:"",to:"",inviteeFirstName:"",inviteeLastName:""})}},{key:"render",value:function(){var e=this,t={start:O()().minutes(0),end:O()().hours(O()().hour()+1).minutes(0)};return Object(r.jsx)(d.a,{my:2,children:Object(r.jsxs)("form",{children:[Object(r.jsx)(d.a,{my:3,children:Object(r.jsx)(j.a,{id:"standard-basic",label:"Meeting Title",fullWidth:!0,value:this.state.meetingTitle,required:!0,onChange:function(t){e.setState({meetingTitle:t.target.value})}})}),Object(r.jsx)(d.a,{my:3,children:Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(r.jsx)(j.a,{id:"standard-basic",label:"Invitee First Name",style:{width:"48%"},value:this.state.inviteeFirstName,required:!0,onChange:function(t){e.setState({inviteeFirstName:t.target.value})}}),Object(r.jsx)(j.a,{id:"standard-basic",label:"Invitee Last Name",style:{width:"48%"},value:this.state.inviteeLastName,required:!0,onChange:function(t){e.setState({inviteeLastName:t.target.value})}})]})}),Object(r.jsx)(d.a,{my:3,children:Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(r.jsx)(S,{onCalendarChange:function(t,n){return e.setTimeRangeToState(n)},showTime:{format:"HH:mm",defaultValue:[t.start,t.end]},format:"MM-DD-YYYY HH:mm",disabledTime:function(t,n){return{disabledHours:function(){return e.getDisabledHours(t,n)},disabledMinutes:function(){return e.getDisabledMinutes(t)}}},disabledDate:function(t){return e.getDisableRange(t)},minuteStep:10,style:{width:"70%"},inputReadOnly:!0}),Object(r.jsx)(g.a,{variant:"contained",color:"primary",disabled:this.checkIfButtonDisabled(),onClick:function(){return e.addMeetingButtonClicked()},children:"Add Meeting"})]})})]})})}}]),n}(a.Component),k=Object(o.b)((function(e){return{organizer:e.meetings.organizer,disabledTimeRanges:x(e)}}),(function(e){return{addMeeting:function(t){return function(e,t){e({type:p,payload:t})}(e,t)}}}))(C),N=n(38),R=n(206),I=n(208),B=n(207),H=n(205),z=n(112),F=n.n(z),A=n(113),L=n.n(A),E=n(7),q=n(204),P={StyledTableCell:Object(E.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(q.a),StyledTableRow:Object(E.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(H.a),sortAscending:function(e,t,n){return e[n]<t[n]?-1:e[n]>t[n]?1:0}},J=P.sortAscending,W=P.StyledTableCell,U=P.StyledTableRow,V=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={rows:r.props.rows,tableSort:{sortedBy:"from",sortType:"ascending"}},r}return Object(b.a)(n,[{key:"sortTableBySelected",value:function(e){var t=[].concat(this.state.rows);if(e.sortID&&t.length>1){var n=Object(N.a)({},this.state.tableSort),r=n.sortedBy,a=n.sortType,i=a;r!==e.sortID?(t.sort((function(t,n){return J(t,n,e.sortID)})),i="ascending"):(t.reverse(),i="ascending"===a?"descending":"ascending"),this.setState({rows:t,tableSort:{sortedBy:e.sortID,sortType:i}})}}},{key:"renderSortIcon",value:function(e){if(e.sortID){var t=this.state,n=t.tableSort,a=t.rows,i=Object(N.a)({},n),s=i.sortedBy,o=i.sortType;return a.length<2?void 0:s===e.sortID&&"descending"===o?Object(r.jsx)(F.a,{}):s===e.sortID&&"ascending"===o?Object(r.jsx)(L.a,{}):void 0}}},{key:"render",value:function(){var e=this,t=this.state.rows,n=this.props.header;return Object(r.jsxs)(R.a,{"aria-label":"customized table",children:[0===t.length&&Object(r.jsx)("caption",{style:{textAlign:"center"},children:"No Meetings Available"}),Object(r.jsx)(B.a,{children:Object(r.jsx)(H.a,{children:n.map((function(t){return Object(r.jsxs)(P.StyledTableCell,{align:"left",style:{cursor:"pointer"},onClick:function(){return e.sortTableBySelected(t)},children:[Object(r.jsx)("span",{children:t.text}),e.renderSortIcon(t)]},t.text)}))})}),Object(r.jsx)(I.a,{children:t.map((function(e){return Object(r.jsxs)(U,{children:[Object(r.jsx)(W,{component:"th",scope:"row",children:e.meetingTitle}),Object(r.jsx)(W,{align:"left",children:e.from}),Object(r.jsx)(W,{align:"left",children:e.to}),Object(r.jsx)(W,{align:"left",children:e.inviteeFirstName+e.inviteeLastName})]},e.from)}))})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.rows.length!==t.rows.length?{rows:e.rows,tableSort:{sortedBy:"from",sortType:"ascending"}}:null}}]),n}(a.Component),_=n(210),G=n(166),K=n(209),Q=[{text:"Meeting Title",sortID:"meetingTitle"},{text:"Meeting Starting Time",sortID:"from"},{text:"Meeting Ending Time"},{text:"Meeting Invitee"}],X=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props.meetings,t=e.meetings,n=e.organizer;return Object(r.jsxs)(d.a,{children:[Object(r.jsx)(d.a,{my:1,children:Object(r.jsxs)(K.a,{variant:"h6",children:[" Upcoming meetings for ",n.firstName," ",n.lastName,": "]})}),Object(r.jsx)(_.a,{component:G.a,children:Object(r.jsx)(V,{rows:t,header:Q})}),t.length>1&&Object(r.jsx)(K.a,{variant:"caption",children:' *Click on "Meeting title" or "Meeting starting date" to sort.'})]})}}]),n}(a.Component),Z=Object(o.b)((function(e){return{meetings:e.meetings,organizer:e.organizer}}))(X),$=n(211),ee=n(212),te=function(){return Object(r.jsx)($.a,{position:"static",children:Object(r.jsx)(ee.a,{style:{backgroundColor:"black"},children:Object(r.jsx)(K.a,{variant:"h4",style:{color:"white"},children:" Meeting Planer "})})})},ne=function(){return Object(r.jsxs)(l.a,{maxWidth:"lg",children:[Object(r.jsx)(te,{}),Object(r.jsxs)(l.a,{maxWidth:"lg",children:[Object(r.jsx)(d.a,{my:4,children:Object(r.jsx)(k,{})}),Object(r.jsx)(d.a,{my:4,children:Object(r.jsx)(Z,{})})]})]})},re={meetings:[],organizer:{firstName:"John",lastName:"Doe"}};function ae(e,t){var n=t.from;if(0===e.length)return e.concat(Object(N.a)({},t));for(var r=0;r<e.length;r++){var a=e[r].from;if(O()(n).isBefore(a))return e.slice(0,r).concat(Object(N.a)({},t)).concat(e.slice(r))}return e.slice(0,e.length).concat(Object(N.a)({},t))}var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case p:var a=ae(e.meetings,Object(N.a)({},r));return Object(N.a)(Object(N.a)({},e),{},{meetings:a});default:return e}},se=Object(c.c)({meetings:ie}),oe=Object(c.d)(se,{},Object(c.a)());s.a.render(Object(r.jsx)(o.a,{store:oe,children:Object(r.jsx)(ne,{})}),document.querySelector("#root"))}},[[162,1,2]]]);
//# sourceMappingURL=main.839fad55.chunk.js.map